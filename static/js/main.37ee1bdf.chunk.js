(this["webpackJsonpgit-dash"]=this["webpackJsonpgit-dash"]||[]).push([[0],{46:function(e,n,t){e.exports=t(62)},54:function(e,n,t){},60:function(e,n,t){},62:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),o=t(26),l=t.n(o),c=t(21),u=t(25),i=t(13),s=t(9),m=t(30),f=t(12),d=function(e,n){var t,r=localStorage.getItem(e);return r?(t=r,JSON.parse(t)):n},p=function(e,n){return localStorage.setItem(e,(t=n,JSON.stringify(t)));var t},E=function(e,n){var t=Object(r.useRef)(e),a=Object(r.useState)((function(){return d(t.current,n)})),o=Object(f.a)(a,2),l=o[0],c=o[1];return Object(r.useEffect)((function(){p(t.current,l)}),[l]),[l,c]},b="AUTH",g="SELECTED_REPOS",v=Object(r.createContext)(),h=function(){return Object(r.useContext)(v)},w=function(e){var n=e.children,t=function(){var e=E(b,""),n=Object(f.a)(e,2),t=n[0],a=n[1];return Object(r.useMemo)((function(){return{token:t,setToken:a}}),[t,a])}(),o=function(){var e=E(g,[]),n=Object(f.a)(e,2),t=n[0],a=n[1],o=Object(r.useMemo)((function(){return e=function(e){return e.owner.login},t.reduce((function(n,t,r){var a=e(t,r);return n[a]?n[a].push(t):n[a]=[t],n}),{});var e}),[t]),l=Object(r.useMemo)((function(){return t.map((function(e){return e.nameWithOwner}))}),[t]);return Object(r.useMemo)((function(){return{repos:t,groupedRepos:o,repoKeys:l,containsRepo:function(e){return l.includes(e.nameWithOwner)},addRepo:function(e){a((function(n){return[].concat(Object(m.a)(n),[e])}))},removeRepo:function(e){a((function(n){return n.filter((function(n){return n.nameWithOwner!==e.nameWithOwner}))}))}}}),[t,o,l,a])}(),l=Object(r.useMemo)((function(){return{auth:t,selectedRepos:o}}),[t,o]);return a.a.createElement(v.Provider,{value:l},n)},O=function(e){var n=e.children,t=h().auth.token,o=Object(r.useMemo)((function(){return new c.a}),[]),l=Object(r.useMemo)((function(){return new u.a({uri:"https://api.github.com/graphql",headers:{authorization:"bearer ".concat(t)}})}),[t]),m=Object(r.useMemo)((function(){return new i.a({link:l,cache:o})}),[l,o]);return a.a.createElement(s.a,{client:m},n)},x=function(e){return Object(r.useMemo)((function(){return Object.entries(e).reduce((function(e,n){var t=Object(f.a)(n,2),r=t[0],a=t[1];return e[r]=Array.isArray(a)?a.join(" "):a,e}),{})}),[e])},y=function(e){var n=e.children,t=x({container:"\n      px-8 max-w-5xl mx-auto h-full\n    "});return a.a.createElement("div",{className:t.container},n)},N=t(39),R=t(5),j=t(29),A=t(22),k=t(20);function S(){var e=Object(j.a)(["\n  {\n    viewer {\n      repositories(\n        first: 12\n        affiliations: [OWNER, ORGANIZATION_MEMBER, COLLABORATOR]\n        ownerAffiliations: [OWNER, ORGANIZATION_MEMBER, COLLABORATOR]\n        orderBy: { field: UPDATED_AT, direction: DESC }\n      ) {\n        nodes {\n          name\n          nameWithOwner\n          owner {\n            login\n            avatarUrl\n          }\n        }\n      }\n    }\n  }\n"]);return S=function(){return e},e}var C=Object(A.a)(S()),M=t(74),T=t(73),D=(t(54),function(e){var n=e.repos,t=e.onRepoClick,r=void 0===t?null:t,o=e.removable,l=void 0!==o&&o,c=x({repos:"\n        flex flex-row items-center justify-center flex-wrap\n    ",repo:"\n        bg-gray-400 inline-block whitespace-no-wrap\n        m-1 rounded-full p-1 pr-3\n        flex flex-row items-center\n        text-gray-800\n\n        hover:bg-gray-500\n        focus:outline-none\n        focus:bg-purple-300\n\n        focus:text-purple-800\n    ",imageContainer:"\n        relative mr-2 rounded-full overflow-hidden\n    ",removeOverlay:"\n        absolute top-0 bottom-0 right-0 left-0\n        bg-gray-600\n        flex items-center justify-center\n        opacity-75\n    ",removeIcon:"text-gray-200 text-xs leading-none",image:"\n        w-6 h-6\n    ",text:"\n        text-sm leading-none font-semibold\n    "});return a.a.createElement(M.a,{className:c.repos},n.map((function(e){return a.a.createElement(T.a,{key:e.nameWithOwner,timeout:200,classNames:"item"},a.a.createElement("button",{className:c.repo,onClick:r?r(e):null},a.a.createElement("div",{className:c.imageContainer},a.a.createElement("img",{src:e.owner.avatarUrl,className:c.image,alt:e.nameWithOwner}),l?a.a.createElement("div",{className:c.removeOverlay},a.a.createElement("p",{className:c.removeIcon},"\u2715")):null),a.a.createElement("p",{className:c.text},e.nameWithOwner)))})))}),P=function(e){e.onChoose;var n=function(){var e=Object(k.a)(C),n=e.data,t=Object(R.a)(e,["data"]);return Object(N.a)({data:n,repos:n?n.viewer.repositories.nodes:null},t)}(),t=n.loading,r=n.repos,o=n.error,l=h().selectedRepos,c=x({text:"\n        mb-2 mt-4 text-gray-900 font-light\n    "});return a.a.createElement("div",{className:c.container},a.a.createElement("p",{className:c.text},"Get started by picking some repos you want to see:"),t?a.a.createElement("p",null,"Loading..."):o?a.a.createElement("p",null,"something went wrong..."):a.a.createElement(a.a.Fragment,null,a.a.createElement(D,{repos:r.filter((function(e){return!l.containsRepo(e)})),onRepoClick:function(e){return function(n){n.preventDefault(),l.addRepo(e)}}}),l.repos.length>0?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:c.text},"Selected:"),a.a.createElement(D,{repos:l.repos,onRepoClick:function(e){return function(n){n.preventDefault(),l.removeRepo(e)}},removable:!0})):null))},W=function(e){var n=e.children,t=h().auth,o=x({container:"\n        flex flex-col items-center justify-center h-full\n    ",text:"\n        text-center max-w-md\n        text-gray-800 mb-4\n    ",link:"\n        text-purple-600 font-semibold\n    ",form:"\n        shadow-lg rounded\n    ",input:"\n        w-56 h-12 px-4 rounded-l\n        border border-gray-400 border-r-0\n        focus:outline-none\n        focus:border-purple-600\n    ",button:"\n        h-12 px-4 bg-purple-600 text-purple-100 rounded-r\n        border border-purple-800 border-l-0\n    "}),l=Object(r.useState)(""),c=Object(f.a)(l,2),u=c[0],i=c[1];return t.token?n:a.a.createElement("div",{className:o.container},a.a.createElement("p",{className:o.text},"Welcome! Before you can get started, you need to supply us with a Personal Access Token so we can see your repositories.",a.a.createElement("br",null),a.a.createElement("a",{href:"https://github.com/settings/tokens/new?scopes=repo&description=git-dash",target:"_blank",rel:"noopener noreferrer",className:o.link},"Click here to generate one on Github.")),a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.setToken(u)},className:o.form},a.a.createElement("input",{type:"text",value:u,onChange:function(e){return i(e.target.value)},placeholder:"Paste PAT Here",className:o.input}),a.a.createElement("button",{type:"submit",className:o.button},"Go")))},U=t(40),q=t.n(U),B=t(42),I=t.n(B),G=t(43),_=t.n(G),L=function(e){var n=e.status,t=(Object(R.a)(e,["status"]),x({container:"\n        w-8 h-8 absolute\n        flex items-center justify-center\n        rounded-full shadow\n    ",icon:"\n        leading-none font-xs\n    "})),r={COMMENTED:q.a,CHANGES_REQUESTED:I.a,APPROVED:_.a}[n],o={COMMENTED:"bg-white",CHANGES_REQUESTED:"bg-red-500",APPROVED:"bg-green-600"}[n],l={COMMENTED:"text-gray-600",CHANGES_REQUESTED:"text-red-100",APPROVED:"text-green-100"}[n];return a.a.createElement("div",{className:"".concat(o," ").concat(l," ").concat(t.container),style:{right:"-.75rem",bottom:"-.75rem"}},a.a.createElement(r,{className:t.icon,fontSize:"inherit"}))};function H(){var e=Object(j.a)(["\n  query PullRequests($owner: String!, $name: String!) {\n    repository(owner: $owner, name: $name) {\n      id\n      pullRequests(first: 100, states: OPEN) {\n        nodes {\n          id\n          title\n          author {\n            login\n            avatarUrl\n          }\n          reviews(first: 100) {\n            nodes {\n              id\n              state\n              author {\n                login\n                avatarUrl\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return H=function(){return e},e}var J=Object(A.a)(H()),$=function(e){var n=e.name,t=e.owner,r=x({pullRequest:"\n        p-6\n        border-b border-gray-300\n    ",repo:"\n        text-base text-gray-800\n    ",titleBar:"\n        flex flex-row justify-between items-center mb-2\n    ",title:"\n        text-gray-900 font-semibold text-lg\n    ",author:"\n        inline-flex flex-row items-center\n        relative\n        bg-gray-400 rounded-full py-2 pl-3 pr-12\n        shadow-inner\n    ",authorAvatar:"\n        w-10 h-10 rounded-full\n        absolute right-0\n        shadow\n    ",authorName:"\n        text-sm leading-none text-gray-900\n    ",reviewers:"\n        flex flex-row\n    ",review:"\n        relative mr-4\n    ",reviewerAvatar:"\n        w-10 h-10 rounded-full\n        shadow\n    ",reviewStatus:"\n        absolute\n    "}),o=Object(k.a)(J,{variables:{name:n,owner:t}}),l=o.loading,c=o.error,u=o.data;return l?a.a.createElement("p",null,"Loading..."):c?a.a.createElement("p",null,"Something went wrong..."):a.a.createElement(a.a.Fragment,null,u.repository.pullRequests.nodes.map((function(e){return a.a.createElement("div",{className:r.pullRequest,key:e.id},a.a.createElement("div",{className:r.titleBar},a.a.createElement("div",null,a.a.createElement("p",{className:r.repo},t,"/",n),a.a.createElement("p",{className:r.title},e.title)),a.a.createElement("div",{className:r.author},a.a.createElement("img",{src:e.author.avatarUrl,alt:e.author.login,className:r.authorAvatar}),a.a.createElement("p",{className:r.authorName},e.author.login))),a.a.createElement("div",{className:r.reviewers},e.reviews.nodes.map((function(e){return a.a.createElement("div",{className:r.review,key:e.id},a.a.createElement("img",{src:e.author.avatarUrl,alt:e.author.login,className:r.reviewerAvatar}),a.a.createElement(L,{status:e.state}))}))))})))},F=function(){var e=h().selectedRepos,n=x({pullRequests:"\n        bg-gray-100 my-4 shadow-sm rounded border border-gray-300\n    "});return a.a.createElement("div",{className:n.pullRequests},e.repos.map((function(e){return a.a.createElement($,{key:e.nameWithOwner,owner:e.owner.login,name:e.name})})))};t(60);l.a.render(a.a.createElement((function(){return a.a.createElement(w,null,a.a.createElement(y,null,a.a.createElement(W,null,a.a.createElement(O,null,a.a.createElement(P,null),a.a.createElement(F,null)))))}),null),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.37ee1bdf.chunk.js.map